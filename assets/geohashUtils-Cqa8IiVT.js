const x=new Float64Array(2),F=new Float64Array(2),j="0123456789bcdefghjkmnpqrstuvwxyz";function k(o){return j[o]}function X(o){return(o[0]+o[1])/2}function M(o,e,r){return o[0]=e,o[1]=r,o}function m(o,e){const r=X(o),l=e,c=!e;o[0]=c*o[0]+l*r,o[1]=c*r+l*o[1]}function A(o,e){const r=e>X(o);return m(o,r),r}function q(o,e){let r=-90,l=90,c=-180,s=180;for(let u=0;u<e;u++){const n=Math.ceil((u+1)/2),w=Math.floor((u+1)/2),h=1-u%2,g=30-(3*n+2*w),i=30-(2*n+3*w),f=3*h+2*(1-h),t=2*h+3*(1-h),a=3*h+7*(1-h)<<i,Y=(7*h+3*(1-h)<<g&o.geohashX)>>g,b=(a&o.geohashY)>>i;for(let p=f-1;p>=0;p--){const y=(c+s)/2,d=Y&1<<p?1:0;c=(1-d)*c+d*y,s=(1-d)*y+d*s}for(let p=t-1;p>=0;p--){const y=(r+l)/2,d=b&1<<p?1:0;r=(1-d)*r+d*y,l=(1-d)*y+d*l}}return[c,r,s,l]}function v(o,e,r,l){l%2&&(l+=1);let c=0,s=0,u=-90,n=90,w=-180,h=180;for(let g=0;g<l/2;g++){for(let i=0;i<5;i++){const f=(w+h)/2,t=r>f?1:0;c|=t<<29-(i+5*g),w=(1-t)*w+t*f,h=(1-t)*f+t*h}for(let i=0;i<5;i++){const f=(u+n)/2,t=e>f?1:0;s|=t<<29-(i+5*g),u=(1-t)*u+t*f,n=(1-t)*f+t*n}}o.geohashX=c,o.geohashY=s}function z(o,e,r,l,c){let s=0,u=0,n=-90,w=90,h=-180,g=180;for(let i=0;i<c/2;i++){for(let f=0;f<5;f++){const t=(h+g)/2,a=l>t?1:0;s|=a<<29-(f+5*i),h=(1-a)*h+a*t,g=(1-a)*t+a*g}for(let f=0;f<5;f++){const t=(n+w)/2,a=r>t?1:0;u|=a<<29-(f+5*i),n=(1-a)*n+a*t,w=(1-a)*t+a*w}}o[2*e]=s,o[2*e+1]=u}function B(o,e,r){let l="";const c=M(x,-90,90),s=M(F,-180,180);for(let u=0;u<r;u++){let n=0;u%2?(n|=A(c,o)<<4,n|=A(s,e)<<3,n|=A(c,o)<<2,n|=A(s,e)<<1,n|=A(c,o)<<0):(n|=A(s,e)<<4,n|=A(c,o)<<3,n|=A(s,e)<<2,n|=A(c,o)<<1,n|=A(s,e)<<0),l+=k(n)}return l}export{q as X,v as Y,z as b,B as p};
