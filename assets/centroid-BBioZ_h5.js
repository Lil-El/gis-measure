import{be as M,cG as g}from"./index-DXZ_271k.js";function W(t,e,r){return Math.sqrt((t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]!==void 0&&e[2]!==void 0?(t[2]*r-e[2]*r)**2:0))}const l=[];for(const t of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const e=t[0];for(let r=1;r<t.length;r++)l[t[r]]=e}const h=[];function q(t){return t.vcsWkid&&l[t.vcsWkid]!==void 0?h[l[t.vcsWkid]]:t.latestVcsWkid&&l[t.latestVcsWkid]!==void 0?h[l[t.latestVcsWkid]]:1}function m(t,e,r){const o={x:0,y:0};e&&(o.z=0),r&&(o.m=0);let s=0,u=t[0];for(let c=0;c<t.length;c++){const n=t[c];if(Z(n,u)===!1){const i=p(u,n,e),f=P(u,n,e,r);f.x*=i,f.y*=i,o.x+=f.x,o.y+=f.y,e&&(f.z*=i,o.z+=f.z),r&&(f.m*=i,o.m+=f.m),s+=i,u=n}}return s>0?(o.x/=s,o.y/=s,e&&(o.z/=s),r&&(o.m/=s)):(o.x=t[0][0],o.y=t[0][1],e&&(o.z=t[0][2]),r&&e?o.m=t[0][3]:r&&(o.m=t[0][2])),o}function P(t,e,r,o){const s={x:(t[0]+e[0])/2,y:(t[1]+e[1])/2};return r&&(s.z=(t[2]+e[2])/2),r&&o?s.m=(t[3]+e[3])/2:o&&(s.m=(t[2]+e[2])/2),s}function I(t,e){if(t.length<=1)return 0;let r=0;for(let o=1;o<t.length;o++)r+=p(t[o-1],t[o],e);return r}function p(t,e,r){const o=e[0]-t[0],s=e[1]-t[1];if(r){const u=e[2]-e[2];return Math.sqrt(o*o+s*s+u*u)}return Math.sqrt(o*o+s*s)}function Z(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function w(t){const e={x:0,y:0,spatialReference:t.spatialReference.toJSON()},r={x:0,y:0,spatialReference:t.spatialReference.toJSON()};let o=0,s=0;for(let u=0;u<t.paths.length;u++){if(t.paths[u].length===0)continue;const c=I(t.paths[u],t.hasZ===!0);if(c===0){const n=m(t.paths[u],t.hasZ===!0,t.hasM===!0);e.x+=n.x,e.y+=n.y,t.hasZ===!0&&(e.z+=n.z),t.hasM===!0&&(e.m+=n.m),++o}else{const n=m(t.paths[u],t.hasZ===!0,t.hasM===!0);r.x+=n.x*c,r.y+=n.y*c,t.hasZ===!0&&(r.z+=n.z*c),t.hasM===!0&&(r.m+=n.m*c),s+=c}}return s>0?(r.x/=s,r.y/=s,t.hasZ===!0&&(r.z/=s),t.hasM===!0&&(r.m/=s),new M(r)):o>0?(e.x/=o,e.y/=o,t.hasZ===!0&&(r.z/=o),t.hasM===!0&&(e.m/=o),new M(e)):null}function J(t){if(t.points.length===0)return null;let e=0,r=0,o=0,s=0;for(let c=0;c<t.points.length;c++){const n=t.getPoint(c);n.hasZ===!0&&(o+=n.z),n.hasM===!0&&(s+=n.m),e+=n.x,r+=n.y,s+=n.m}const u={x:e/t.points.length,y:r/t.points.length,spatialReference:null};return u.spatialReference=t.spatialReference.toJSON(),t.hasZ===!0&&(u.z=o/t.points.length),t.hasM===!0&&(u.m=s/t.points.length),new M(u)}function v(t,e){return t.x*e.x+t.y*e.y}function R(t,e){return t.x*e.y-e.x*t.y}function x(t,e,r=0){for(;t<r;)t+=e;const o=r+e;for(;t>=o;)t-=e;return t}function z(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function N(t,e){return x(z(t,e),2*Math.PI)*(180/Math.PI)}function O(t,e){return x(Math.PI/2-z(t,e),2*Math.PI)*(180/Math.PI)}function d(t,e,r){const o={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return Math.atan2(R(o,s),v(o,s))}function S(t,e,r){return x(d(t,e,r),2*Math.PI)*(180/Math.PI)}function V(t,e,r){return x(-1*d(t,e,r),2*Math.PI)*(180/Math.PI)}h[9002]=.3048,h[9003]=.3048006096012192,h[9095]=.3048007491;const a=[0,0];function G(t){for(let e=0;e<t.length;e++){const r=t[e];for(let s=0;s<r.length-1;s++){const u=r[s],c=r[s+1];for(let n=e+1;n<t.length;n++)for(let i=0;i<t[n].length-1;i++){const f=t[n][i],y=t[n][i+1];if(g(u,c,f,y,a)&&!(a[0]===u[0]&&a[1]===u[1]||a[0]===f[0]&&a[1]===f[1]||a[0]===c[0]&&a[1]===c[1]||a[0]===y[0]&&a[1]===y[1]))return!0}}const o=r.length;if(!(o<3))for(let s=0;s<=o-2;s++){const u=r[s],c=r[s+1];for(let n=s+2;n<=o-2;n++){const i=r[n],f=r[n+1];if(g(u,c,i,f,a)&&!(a[0]===u[0]&&a[1]===u[1]||a[0]===i[0]&&a[1]===i[1]||a[0]===c[0]&&a[1]===c[1]||a[0]===f[0]&&a[1]===f[1]))return!0}}}return!1}export{O as M,S as P,G as Z,V as d,W as e,w as l,N as p,q as s,J as u};
